<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Google Sign-In - Uncomment and configure for production deployment
    <meta name="google-signin-client_id" content="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    -->
    <title>Chinese Character Homepage</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‰∏≠</text></svg>">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- HP Bar -->
    <div id="hp-bar-container">
        <div id="hp-bar-label">HP</div>
        <div id="hp-bar-background">
            <div id="hp-bar-fill"></div>
        </div>
        <div id="hp-bar-text">100 / 100</div>
    </div>
    
    <!-- Timer -->
    <div id="timer-container">
        <div id="timer-icon">‚è±Ô∏è</div>
        <div id="timer-text">00:00</div>
    </div>
    
    <!-- Level Selection Screen -->
    <div id="level-selection-overlay">
        <div id="level-selection-container">
            <h1 id="level-selection-title">Select Level</h1>
            <div id="level-search-container">
                <input type="text" id="level-search-input" placeholder="üîç Search levels by name..." />
            </div>
            <div id="levels-grid"></div>
        </div>
    </div>
    
    <!-- Game Over Overlay -->
    <div id="game-over-overlay" class="hidden">
        <div id="game-over-content">
            <h1 id="game-over-title">GAME OVER</h1>
            <p id="game-over-message">Your HP reached 0!</p>
            <button id="restart-btn">Restart</button>
        </div>
    </div>

    <div id="level-complete-overlay" class="hidden">
        <div id="level-complete-content">
            <h1 id="level-complete-title">üéâ LEVEL COMPLETE! üéâ</h1>
            <div id="level-complete-subtitle">Level 1: Basic Strokes</div>
            <div id="level-complete-stats">
                <div class="level-complete-stat-row">
                    <span class="level-complete-stat-label">‚è±Ô∏è Time</span>
                    <span class="level-complete-stat-value" id="level-complete-time">0:00</span>
                </div>
                <div class="level-complete-stat-row">
                    <span class="level-complete-stat-label">‚≠ê Level Score</span>
                    <span class="level-complete-stat-value" id="level-complete-score">0</span>
                </div>
                <div class="level-complete-stat-row">
                    <span class="level-complete-stat-label">‚úèÔ∏è Characters Completed</span>
                    <span class="level-complete-stat-value" id="level-complete-chars">6</span>
                </div>
            </div>
            <div id="level-complete-next-info">Ready for the next challenge?</div>
            <div id="level-complete-buttons">
                <button id="level-complete-restart-btn" class="level-complete-btn">üîÑ Restart Level</button>
                <button id="level-complete-next-btn" class="level-complete-btn">Next Level</button>
                <button id="level-complete-menu-btn" class="level-complete-btn">Level Select</button>
                <button id="level-complete-save-btn" class="level-complete-btn">üíæ Save Progress</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="hidden">
        <div id="auth-modal-content">
            <h2 id="auth-modal-title">üíæ Save Game Progress</h2>
            <p id="auth-modal-message">
                Your progress will be saved locally on this device.
                <br><br>
                <small style="color: #64748b;">
                    ‚ÑπÔ∏è Currently in demo mode. For production deployment with Google Sign-In, 
                    you'll need to configure OAuth credentials.
                </small>
            </p>
            <!-- Google Sign-In div - only works in production with proper OAuth setup
            <div id="g_id_onload"
                 data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"
                 data-callback="handleCredentialResponse"
                 style="display: none;">
            </div>
            -->
            <div>
                <button id="google-signin-btn">
                    <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.6 9.2l-.1-1.8H9v3.4h4.8C13.6 12 13 13 12 13.6v2.2h3a8.8 8.8 0 0 0 2.6-6.6z" fill="#4285F4"/><path d="M9 18c2.4 0 4.5-.8 6-2.2l-3-2.2a5.4 5.4 0 0 1-8-2.9H1V13a9 9 0 0 0 8 5z" fill="#34A853"/><path d="M4 10.7a5.4 5.4 0 0 1 0-3.4V5H1a9 9 0 0 0 0 8l3-2.3z" fill="#FBBC05"/><path d="M9 3.6c1.3 0 2.5.4 3.4 1.3L15 2.3A9 9 0 0 0 1 5l3 2.4a5.4 5.4 0 0 1 5-3.7z" fill="#EA4335"/></g></svg>
                    Continue (Demo Mode)
                </button>
                <button id="auth-cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- User Info Display -->
    <div id="user-info" class="hidden">
        <img id="user-avatar" src="" alt="User">
        <span id="user-name"></span>
        <button id="logout-btn">Logout</button>
    </div>

    <!-- Toast Notification -->
    <div id="toast-notification">
        <div class="toast-icon">‚úÖ</div>
        <div class="toast-content">
            <div class="toast-title">Progress Saved!</div>
            <div class="toast-message">Your game progress has been saved successfully.</div>
        </div>
    </div>
    
    <div class="top-bar-trigger"></div>
    <div class="top-bar">
        <div id="next-stroke-btn">Next Stroke</div>
        <button id="voice-btn" class="voice-btn" title="Read current character">üîä</button>
        <div class="music-control">
            <div class="music-icon">üéµ</div>
            <div class="music-toggle" id="music-toggle"></div>
        </div>
    </div>
    
    <!-- Background music -->
    <audio id="background-music" loop>
        <source src="res/XJ0106.mp3" type="audio/mpeg">
    </audio>
    <!-- Completion sound effect -->
    <audio id="completion-sound" preload="auto">
        <!-- You can add your sound file here, e.g. <source src="res/completion.mp3" type="audio/mpeg"> -->
    </audio>
    <div id="similarity-score" class="similarity-score hidden">
        <div class="label">Similarity Score</div>
        <div class="value" id="similarity-value">0%</div>
    </div>
    <div class="main-content">
        <div class="canvas-container-wrapper horizontal-layout" id="canvas-container-wrapper">
            <div class="container">
                <div class="character-wrapper">
                    <canvas id="guide-canvas"></canvas>
                    <canvas id="character-canvas"></canvas>
                </div>
            </div>
            <div id="completed-characters-container"></div>
        </div>
        <div class="debug-panel">
            <h3>Character Data (Debug)</h3>
            <pre id="stroke-data-debug">Loading...</pre>
        </div>
    </div>

    <!-- Load all game code from single file (not modularized yet) -->
    <script src="js/game-original.js.bak"></script>
</body>
</html>
